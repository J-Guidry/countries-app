(()=>{"use strict";var e={68:(e,t,n)=>{var r=n(294),a=n(935),o=n(727),l=n(550);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,r.createContext)(),s=(u.Consumer,function(e){var t=e.children,n=c((0,r.useState)({lightTheme:!0}),2),a=n[0],o=n[1],l={light:{"--background":"hsl(0, 0%, 98%)","--elements":"hsl(0, 0%, 100%)","--text":"hsl(200, 15%, 8%)"},dark:{"--background":" hsl(207, 26%, 17%)","--elements":"hsl(209, 23%, 22%)","--text":"hsl(0, 0%, 100%)"}},i={themeBool:a,toggleThemeBool:function(){return o((function(e){return{lightTheme:!e.lightTheme}}))},toggleTheme:function(e){Object.entries(l[e]).map((function(e){var t=c(e,2),n=t[0],r=t[1];document.documentElement.style.setProperty(n,r)}))}};return r.createElement(u.Provider,{value:i},t)});function m(e){var t=(0,r.useContext)(u),n='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="12"><path fill="none" \n      stroke="'.concat(t.themeBool.lightTheme?"#111517":"#ffffff",'" stroke-width="3" d="M1 1l8 8 8-8"/></svg>'),a=window.btoa(n).toString();return r.createElement("div",{className:"action"},r.createElement("div",{className:"input-with-icon"},r.createElement("input",{onKeyDown:e.handleInput,placeholder:"Search for a country...",className:"input",required:!0}),r.createElement("i",{className:"icon-search"})),r.createElement("select",{onChange:e.regionSelect,className:"select-country",style:{backgroundImage:"url(data:image/svg+xml;base64,"+a+")"}},r.createElement("option",null,"Filter by Region"),r.createElement("option",{value:"africa"},"Africa"),r.createElement("option",{value:"americas"},"Americas"),r.createElement("option",{value:"asia"},"Asia"),r.createElement("option",{value:"europe"},"Europe"),r.createElement("option",{value:"oceania"},"Oceania")))}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=function(e){return r.createElement("li",null,r.createElement(o.rU,{to:{pathname:"/country/".concat(e.name.split(" ").join("_").toLowerCase()),state:p({},e)}},r.createElement("div",{className:"flag"},r.createElement("img",{className:"flag-img",src:e.flag,alt:"Flag of ".concat(e.name)})),r.createElement("div",{className:"info"},r.createElement("h3",null,e.name),r.createElement("p",null,r.createElement("span",{className:"country-label"},"Population:"),e.population),r.createElement("p",null,r.createElement("span",{className:"country-label"},"Region:"),e.region),r.createElement("p",null,r.createElement("span",{className:"country-label"},"Capital:"),e.capital))))},b=function(e){return r.createElement("div",null,e.countriesLength>0&&r.createElement("ul",{className:"output"},e.countries.map((function(e){return r.createElement(y,{key:e.name,flag:e.flag,name:e.name,population:e.population.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),region:e.region,capital:e.capital,borders:e.borders,nativeName:e.nativeName,topLevelDomain:e.topLevelDomain,currencies:e.currencies,languages:e.languages,subRegion:e.subregion})}))))};function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(c,e);var t,n,a,o,l=(a=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(a);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=l.call(this,e)).handleRegionSelect=t.handleRegionSelect.bind(w(t)),t.handleInput=t.handleInput.bind(w(t)),t.state={countries:[]},t}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this;["usa","germany","brazil","iceland"].forEach((function(t){var n=new URL("https://restcountries.eu/rest/v2/name/".concat(t));fetch(n).then((function(e){return e.json()})).then((function(t){e.setState((function(e){return{countries:e.countries.concat(t)}}))}))}))}},{key:"handleRegionSelect",value:function(e){var t=this,n=e.target.value;if("Filter by Region"!==n){var r=new URL("https://restcountries.eu/rest/v2/region/".concat(n));fetch(r).then((function(e){return e.json()})).then((function(e){t.setState((function(){return{countries:e}}))}))}}},{key:"handleInput",value:function(e){var t=this;if("Enter"===e.key){var n=e.target.value,r=new URL("https://restcountries.eu/rest/v2/name/".concat(n));fetch(r).then((function(e){return e.json()})).then((function(e){t.setState((function(){return{countries:e}}))})).then((function(e){return e}))}}},{key:"render",value:function(){return r.createElement("div",null,r.createElement("main",null,r.createElement("div",{className:"container"},r.createElement(m,{regionSelect:this.handleRegionSelect,handleInput:this.handleInput}),r.createElement(b,{countriesLength:this.state.countries.length,countries:this.state.countries}))))}}])&&d(t.prototype,n),c}(r.Component);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const N=function(){var e,t,n=(e=(0,r.useState)("Light Mode"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],o=n[1],l=(0,r.useContext)(u);return r.createElement("header",{className:"header"},r.createElement("h1",null,"Where in the world?"),r.createElement("button",{className:"mode",onClick:function(){o((function(e){return"Dark Mode"===e?(l.toggleThemeBool(),l.toggleTheme("light"),"Light Mode"):(l.toggleThemeBool(),l.toggleTheme("dark"),"Dark Mode")}))}},r.createElement("i",{className:l.themeBool.lightTheme?"icon-sun":"icon-moon-o"}),r.createElement("span",{className:"mode-label"},a)))};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const T=function(){var e=(0,l.TH)();console.log(r.useContext);var t=x((0,r.useState)([]),2),n=t[0],a=t[1],c=x((0,r.useState)(!0),2),i=c[0],u=c[1],s=x((0,r.useState)(null),2),m=(s[0],s[1]),f=(0,l.k6)(),p=e.state,h=(0,l.UO)();return(0,r.useEffect)((function(){if(h){var e=new AbortController;return f.length>3&&a([]),p.borders.forEach((function(t,n,r){var o=new URL("https://restcountries.eu/rest/v2/alpha/".concat(t));u(!0),fetch(o,{signal:e.signal}).then((function(e){if(!e.ok)throw Error("could not fetch the data for that resource");return e.json()})).then((function(e){a((function(t){return[].concat(function(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t),[e])})),m(null),n===r.length-1&&(u(!1),r.length)})).catch((function(e){u(!1),m(e.message)}))})),function(){return e.abort()}}}),[h]),r.createElement("div",{className:"detail-page"},r.createElement("button",{className:"back-btn",onClick:function(){u(!0),f.goBack()}},r.createElement("i",{class:"icon-arrow-left"}),"Back"),r.createElement("div",{className:"country-detail-wrapper"},r.createElement("div",{className:"flag-detail"},r.createElement("img",{src:p.flag,alt:"Flag of ".concat(p.name)})),r.createElement("div",{className:"country-detail"},r.createElement("h1",null,p.name),r.createElement("div",{className:"detail-column"},r.createElement("p",null,r.createElement("span",{className:"country-label"},"Native Name: "),p.nativeName),r.createElement("p",null,r.createElement("span",{className:"country-label"},"Population: "),p.population),r.createElement("p",null,r.createElement("span",{className:"country-label"},"Region: "),p.region),r.createElement("p",null,r.createElement("span",{className:"country-label"},"Sub Region: "),p.subRegion),r.createElement("p",null,r.createElement("span",{className:"country-label"},"Capital: "),p.capital)),r.createElement("div",{className:"detail-column"},r.createElement("p",null,r.createElement("span",{className:"country-label"},"Top Level Domain: "),p.topLevelDomain.map((function(e,t){return r.createElement("span",{key:t}," ",e," ")}))),r.createElement("p",null,r.createElement("span",{className:"country-label"},"Currencies: "),p.currencies.map((function(e,t){return r.createElement("span",{key:t}," ",e.name," ")}))),r.createElement("p",null,r.createElement("span",{className:"country-label"},"Languages: "),p.languages.map((function(e,t){return r.createElement("span",{key:t}," ",e.name," ")})))),0===n.length?"":!0===i?r.createElement("span",null,"loading..."):r.createElement("div",{className:"border-countries"},r.createElement("span",{className:"country-label"},"Border Countries: "),n.map((function(e,t){return r.createElement(o.rU,{key:t,to:{pathname:"/country/".concat(e.name.split(" ").join("_").toLowerCase()),state:P({},e)}},r.createElement("span",{key:t,className:"border-country"},e.name))}))))))},I=function(){return r.createElement(o.VK,null,r.createElement("div",null,r.createElement(s,null,r.createElement(N,null),r.createElement(l.rs,null,r.createElement(l.AW,{path:"/country/:country"},r.createElement(T,null)),r.createElement(l.AW,{path:"/",exact:!0},r.createElement(j,null))))))};a.render(r.createElement(I,null),document.getElementById("app"))}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.x=e=>{},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={376:0},t=[[68,165,764,659,424,791]],r=e=>{},a=(a,o)=>{for(var l,c,[i,u,s,m]=o,f=0,p=[];f<i.length;f++)c=i[f],n.o(e,c)&&e[c]&&p.push(e[c][0]),e[c]=0;for(l in u)n.o(u,l)&&(n.m[l]=u[l]);for(s&&s(n),a&&a(o);p.length;)p.shift()();return m&&t.push.apply(t,m),r()},o=self.webpackChunkproject=self.webpackChunkproject||[];function l(){for(var r,a=0;a<t.length;a++){for(var o=t[a],l=!0,c=1;c<o.length;c++){var i=o[c];0!==e[i]&&(l=!1)}l&&(t.splice(a--,1),r=n(n.s=o[0]))}return 0===t.length&&(n.x(),n.x=e=>{}),r}o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o));var c=n.x;n.x=()=>(n.x=c||(e=>{}),(r=l)())})(),n.x()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvdGhlbWVDb250ZXh0LmpzIiwid2VicGFjazovL3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9BY3Rpb25zLmpzIiwid2VicGFjazovL3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9Db3VudHJ5LmpzIiwid2VicGFjazovL3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9Db3VudHJpZXMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0NvdW50cmllc0FwcC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvSGVhZGVyLmpzIiwid2VicGFjazovL3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9Db3VudHJ5RGV0YWlsLmpzIiwid2VicGFjazovL3Byb2plY3QvLi9zcmMvcm91dGVycy9BcHBSb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL3NyYy9hcHAuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wcm9qZWN0L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3Byb2plY3Qvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3Byb2plY3Qvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9wcm9qZWN0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vcHJvamVjdC93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9wcm9qZWN0L3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJUaGVtZUNvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwiVGhlbWVQcm92aWRlciIsIkNvbnN1bWVyIiwiY2hpbGRyZW4iLCJ1c2VTdGF0ZSIsImxpZ2h0VGhlbWUiLCJ0aGVtZUJvb2wiLCJ0b2dnbGVUaGVtZUJvb2wiLCJ0aGVtZXMiLCJsaWdodCIsImRhcmsiLCJ2YWx1ZSIsInByZXZTdGF0ZSIsInRvZ2dsZVRoZW1lIiwidGhlbWUiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwiY29sb3IiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJQcm92aWRlciIsIkFjdGlvbnMiLCJwcm9wcyIsInRoZW1lT2JqIiwidXNlQ29udGV4dCIsInN2ZyIsImJhc2U2NFN2ZyIsIndpbmRvdyIsImJ0b2EiLCJ0b1N0cmluZyIsImNsYXNzTmFtZSIsIm9uS2V5RG93biIsImhhbmRsZUlucHV0IiwicGxhY2Vob2xkZXIiLCJyZXF1aXJlZCIsIm9uQ2hhbmdlIiwicmVnaW9uU2VsZWN0IiwiYmFja2dyb3VuZEltYWdlIiwidG8iLCJwYXRobmFtZSIsIm5hbWUiLCJzcGxpdCIsImpvaW4iLCJ0b0xvd2VyQ2FzZSIsInN0YXRlIiwic3JjIiwiZmxhZyIsImFsdCIsInBvcHVsYXRpb24iLCJyZWdpb24iLCJjYXBpdGFsIiwiY291bnRyaWVzTGVuZ3RoIiwiY291bnRyaWVzIiwiY291bnRyeSIsImtleSIsInJlcGxhY2UiLCJib3JkZXJzIiwibmF0aXZlTmFtZSIsInRvcExldmVsRG9tYWluIiwiY3VycmVuY2llcyIsImxhbmd1YWdlcyIsInN1YlJlZ2lvbiIsInN1YnJlZ2lvbiIsIkNvdW50cmllc0FwcCIsImhhbmRsZVJlZ2lvblNlbGVjdCIsImJpbmQiLCJmb3JFYWNoIiwidXJsIiwiVVJMIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwianNvbiIsIm9iamRhdGEiLCJzZXRTdGF0ZSIsImNvbmNhdCIsImV2dCIsInRhcmdldCIsImlucHV0IiwiZXJyIiwidGhpcyIsImxlbmd0aCIsIlJlYWN0IiwibGFiZWwiLCJzd2l0Y2hMYWJlbCIsIm9uQ2xpY2siLCJsb2NhdGlvbiIsInVzZUxvY2F0aW9uIiwiY29uc29sZSIsImxvZyIsImJvcmRlckNvdW50cmllcyIsInVwZGF0ZUJvcmRlcnMiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJzZXRFcnJvciIsImhpc3RvcnkiLCJ1c2VIaXN0b3J5IiwicGFyYW1zIiwidXNlUGFyYW1zIiwidXNlRWZmZWN0IiwiYWJvcnRDb250IiwiQWJvcnRDb250cm9sbGVyIiwiY291bnRyeUNvZGUiLCJpbmRleCIsImFyciIsInNpZ25hbCIsIm9rIiwiRXJyb3IiLCJkYXRhIiwicHJldkFyciIsIm1lc3NhZ2UiLCJhYm9ydCIsImdvQmFjayIsImNsYXNzIiwiZG9tYWluIiwiY3VycmVuY3kiLCJsYW5ndWFnZSIsImJvcmRlckNvdW50cnkiLCJwYXRoIiwiZXhhY3QiLCJSZWFjdERPTSIsImdldEVsZW1lbnRCeUlkIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwieCIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImciLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJlIiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsIjM3NiIsImRlZmVycmVkTW9kdWxlcyIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwid2VicGFja0pzb25wQ2FsbGJhY2siLCJwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwicnVudGltZSIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwicHVzaCIsInNoaWZ0IiwiYXBwbHkiLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJzZWxmIiwiY2hlY2tEZWZlcnJlZE1vZHVsZXNJbXBsIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJzIiwic3RhcnR1cCJdLCJtYXBwaW5ncyI6ImlnQ0FHQSxJQUFNQSxHQUFlQyxxQkE0QmZDLEdBekJnQkYsRUFBYUcsU0F5QmIsU0FBQyxHQUFpQixJQUFmQyxFQUFlLEVBQWZBLFNBQWUsS0FDREMsY0FBUyxDQUM1Q0MsWUFBWSxJQUZ3QixHQUMvQkMsRUFEK0IsS0FDcEJDLEVBRG9CLEtBSWhDQyxFQUFTLENBQ2JDLE1BQU8sQ0FDTCxlQUFnQixrQkFDaEIsYUFBYyxtQkFDZCxTQUFVLHFCQUVaQyxLQUFNLENBQ0osZUFBZ0Isc0JBQ2hCLGFBQWMscUJBQ2QsU0FBVSxxQkFHUkMsRUFBUSxDQUNaTCxZQUNBQyxnQkFBaUIsa0JBQ2ZBLEdBQWdCLFNBQUNLLEdBQ2YsTUFBTyxDQUNMUCxZQUFhTyxFQUFVUCxnQkFHN0JRLFlBQWEsU0FBQ0MsR0FDWkMsT0FBT0MsUUFBUVIsRUFBT00sSUFBUUcsS0FBSSxZQUFvQixhQUFsQkMsRUFBa0IsS0FBWFAsRUFBVyxLQUNwRFEsU0FBU0MsZ0JBQWdCQyxNQUFNQyxZQUFZSixFQUFPUCxRQUt4RCxPQUNFLGdCQUFDWixFQUFhd0IsU0FBZCxDQUF1QlosTUFBT0EsR0FBUVIsS0MzRDNCLFNBQVNxQixFQUFRQyxHQUM5QixJQUFNQyxHQUFXQyxnQkFBVzVCLEdBRXRCNkIsRUFBTSxvR0FBSCxPQUVIRixFQUFTcEIsVUFBVUQsV0FBYSxVQUFZLFVBRnpDLCtDQUlMd0IsRUFBWUMsT0FBT0MsS0FBS0gsR0FBS0ksV0FFakMsT0FDRSx1QkFBS0MsVUFBVSxVQUNiLHVCQUFLQSxVQUFVLG1CQUNiLHlCQUNFQyxVQUFXVCxFQUFNVSxZQUNqQkMsWUFBWSwwQkFDWkgsVUFBVSxRQUNWSSxVQUFRLElBRVYscUJBQUdKLFVBQVUsaUJBRWYsMEJBQ0VLLFNBQVViLEVBQU1jLGFBQ2hCTixVQUFVLGlCQUNWWixNQUFPLENBQ0xtQixnQkFBaUIsaUNBQW1DWCxF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b20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuY29uc3QgVGhlbWVDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgpO1xuXG4vL2NvbnN0IFRoZW1lUHJvdmlkZXIgPSBUaGVtZUNvbnRleHQuUHJvdmlkZXI7XG5jb25zdCBUaGVtZUNvbnN1bWVyID0gVGhlbWVDb250ZXh0LkNvbnN1bWVyO1xuXG4vLyBmdW5jdGlvbiB0b2dnbGVUaGVtZSgpIHtcbi8vICAgdGhpcy5zZXRTdGF0ZSgoc3RhdGUsIHByb3BzKSA9PiB7XG4vLyAgICAgaWYgKHN0YXRlLnN3aXRjaExhYmVsID09PSBcIkRhcmsgTW9kZVwiICYmIHByb3BzLmxpZ2h0ID09PSB0cnVlKSB7XG4vLyAgICAgICBwcm9wcy5oYW5kbGVUb2dnbGUoXCJkYXJrXCIpO1xuLy8gICAgICAgcmV0dXJuIHsgc3dpdGNoTGFiZWw6IFwiTGlnaHQgTW9kZVwiIH07XG4vLyAgICAgfSBlbHNlIHtcbi8vICAgICAgIHByb3BzLmhhbmRsZVRvZ2dsZShcImxpZ2h0XCIpO1xuLy8gICAgICAgcmV0dXJuIHsgc3dpdGNoTGFiZWw6IFwiRGFyayBNb2RlXCIgfTtcbi8vICAgICB9XG4vLyAgIH0pO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiB0b2dnbGVUaGVtZSh0aGVtZSkge1xuLy8gICB0aGlzLnNldFN0YXRlKFxuLy8gICAgIChzdGF0ZSkgPT4gKHsgbGlnaHRUaGVtZTogIXN0YXRlLmxpZ2h0VGhlbWUgfSksXG4vLyAgICAgKCkgPT4ge1xuLy8gICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0ZS50aGVtZXNbdGhlbWVdKS5tYXAoKFtjb2xvciwgdmFsdWVdKSA9PiB7XG4vLyAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShjb2xvciwgdmFsdWUpO1xuLy8gICAgICAgfSk7XG4vLyAgICAgfVxuLy8gICApO1xuLy8gfVxuXG5jb25zdCBUaGVtZVByb3ZpZGVyID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBbdGhlbWVCb29sLCB0b2dnbGVUaGVtZUJvb2xdID0gdXNlU3RhdGUoe1xuICAgIGxpZ2h0VGhlbWU6IHRydWUsXG4gIH0pO1xuICBjb25zdCB0aGVtZXMgPSB7XG4gICAgbGlnaHQ6IHtcbiAgICAgIFwiLS1iYWNrZ3JvdW5kXCI6IFwiaHNsKDAsIDAlLCA5OCUpXCIsXG4gICAgICBcIi0tZWxlbWVudHNcIjogXCJoc2woMCwgMCUsIDEwMCUpXCIsXG4gICAgICBcIi0tdGV4dFwiOiBcImhzbCgyMDAsIDE1JSwgOCUpXCIsXG4gICAgfSxcbiAgICBkYXJrOiB7XG4gICAgICBcIi0tYmFja2dyb3VuZFwiOiBcIiBoc2woMjA3LCAyNiUsIDE3JSlcIixcbiAgICAgIFwiLS1lbGVtZW50c1wiOiBcImhzbCgyMDksIDIzJSwgMjIlKVwiLFxuICAgICAgXCItLXRleHRcIjogXCJoc2woMCwgMCUsIDEwMCUpXCIsXG4gICAgfSxcbiAgfTtcbiAgY29uc3QgdmFsdWUgPSB7XG4gICAgdGhlbWVCb29sLFxuICAgIHRvZ2dsZVRoZW1lQm9vbDogKCkgPT5cbiAgICAgIHRvZ2dsZVRoZW1lQm9vbCgocHJldlN0YXRlKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbGlnaHRUaGVtZTogIXByZXZTdGF0ZS5saWdodFRoZW1lLFxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgdG9nZ2xlVGhlbWU6ICh0aGVtZSkgPT4ge1xuICAgICAgT2JqZWN0LmVudHJpZXModGhlbWVzW3RoZW1lXSkubWFwKChbY29sb3IsIHZhbHVlXSkgPT4ge1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoY29sb3IsIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8VGhlbWVDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+e2NoaWxkcmVufTwvVGhlbWVDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcblxuZXhwb3J0IHsgVGhlbWVQcm92aWRlciwgVGhlbWVDb25zdW1lciwgVGhlbWVDb250ZXh0IH07XG5cbi8vZXhwb3J0IGRlZmF1bHQgQXBwUHJvdmlkZXI7XG4iLCIvL2ltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUaGVtZUNvbnRleHQgfSBmcm9tIFwiLi90aGVtZUNvbnRleHRcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWN0aW9ucyhwcm9wcykge1xuICBjb25zdCB0aGVtZU9iaiA9IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTtcblxuICBjb25zdCBzdmcgPSBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjEyXCI+PHBhdGggZmlsbD1cIm5vbmVcIiBcbiAgICAgIHN0cm9rZT1cIiR7XG4gICAgICAgIHRoZW1lT2JqLnRoZW1lQm9vbC5saWdodFRoZW1lID8gXCIjMTExNTE3XCIgOiBcIiNmZmZmZmZcIlxuICAgICAgfVwiIHN0cm9rZS13aWR0aD1cIjNcIiBkPVwiTTEgMWw4IDggOC04XCIvPjwvc3ZnPmA7XG4gIGxldCBiYXNlNjRTdmcgPSB3aW5kb3cuYnRvYShzdmcpLnRvU3RyaW5nKCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvblwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnB1dC13aXRoLWljb25cIj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgb25LZXlEb3duPXtwcm9wcy5oYW5kbGVJbnB1dH1cbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBmb3IgYSBjb3VudHJ5Li4uXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJpbnB1dFwiXG4gICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgLz5cbiAgICAgICAgPGkgY2xhc3NOYW1lPVwiaWNvbi1zZWFyY2hcIj48L2k+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxzZWxlY3RcbiAgICAgICAgb25DaGFuZ2U9e3Byb3BzLnJlZ2lvblNlbGVjdH1cbiAgICAgICAgY2xhc3NOYW1lPVwic2VsZWN0LWNvdW50cnlcIlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJ1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxcIiArIGJhc2U2NFN2ZyArIFwiKVwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8b3B0aW9uPkZpbHRlciBieSBSZWdpb248L29wdGlvbj5cbiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImFmcmljYVwiPkFmcmljYTwvb3B0aW9uPlxuICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYW1lcmljYXNcIj5BbWVyaWNhczwvb3B0aW9uPlxuICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYXNpYVwiPkFzaWE8L29wdGlvbj5cbiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImV1cm9wZVwiPkV1cm9wZTwvb3B0aW9uPlxuICAgICAgICA8b3B0aW9uIHZhbHVlPVwib2NlYW5pYVwiPk9jZWFuaWE8L29wdGlvbj5cbiAgICAgIDwvc2VsZWN0PlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5cbmNvbnN0IENvdW50cnkgPSAocHJvcHMpID0+IChcbiAgPGxpPlxuICAgIDxMaW5rXG4gICAgICB0bz17e1xuICAgICAgICBwYXRobmFtZTogYC9jb3VudHJ5LyR7cHJvcHMubmFtZS5zcGxpdChcIiBcIikuam9pbihcIl9cIikudG9Mb3dlckNhc2UoKX1gLFxuICAgICAgICBzdGF0ZTogeyAuLi5wcm9wcyB9LFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsYWdcIj5cbiAgICAgICAgPGltZ1xuICAgICAgICAgIGNsYXNzTmFtZT1cImZsYWctaW1nXCJcbiAgICAgICAgICBzcmM9e3Byb3BzLmZsYWd9XG4gICAgICAgICAgYWx0PXtgRmxhZyBvZiAke3Byb3BzLm5hbWV9YH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvXCI+XG4gICAgICAgIDxoMz57cHJvcHMubmFtZX08L2gzPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjb3VudHJ5LWxhYmVsXCI+UG9wdWxhdGlvbjo8L3NwYW4+XG4gICAgICAgICAge3Byb3BzLnBvcHVsYXRpb259XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY291bnRyeS1sYWJlbFwiPlJlZ2lvbjo8L3NwYW4+XG4gICAgICAgICAge3Byb3BzLnJlZ2lvbn1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjb3VudHJ5LWxhYmVsXCI+Q2FwaXRhbDo8L3NwYW4+XG4gICAgICAgICAge3Byb3BzLmNhcGl0YWx9XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvTGluaz5cbiAgPC9saT5cbik7XG5cbmV4cG9ydCBkZWZhdWx0IENvdW50cnk7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgQ291bnRyeSBmcm9tIFwiLi9Db3VudHJ5XCI7XG5cbmNvbnN0IENvdW50cmllcyA9IChwcm9wcykgPT4gKFxuICA8ZGl2PlxuICAgIHtwcm9wcy5jb3VudHJpZXNMZW5ndGggPiAwICYmIChcbiAgICAgIDx1bCBjbGFzc05hbWU9XCJvdXRwdXRcIj5cbiAgICAgICAge3Byb3BzLmNvdW50cmllcy5tYXAoKGNvdW50cnkpID0+IChcbiAgICAgICAgICA8Q291bnRyeVxuICAgICAgICAgICAga2V5PXtjb3VudHJ5Lm5hbWV9XG4gICAgICAgICAgICBmbGFnPXtjb3VudHJ5LmZsYWd9XG4gICAgICAgICAgICBuYW1lPXtjb3VudHJ5Lm5hbWV9XG4gICAgICAgICAgICBwb3B1bGF0aW9uPXtjb3VudHJ5LnBvcHVsYXRpb25cbiAgICAgICAgICAgICAgLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgLnJlcGxhY2UoLyhcXGQpKD89KFxcZHszfSkrKD8hXFxkKSkvZywgXCIkMSxcIil9XG4gICAgICAgICAgICByZWdpb249e2NvdW50cnkucmVnaW9ufVxuICAgICAgICAgICAgY2FwaXRhbD17Y291bnRyeS5jYXBpdGFsfVxuICAgICAgICAgICAgYm9yZGVycz17Y291bnRyeS5ib3JkZXJzfVxuICAgICAgICAgICAgbmF0aXZlTmFtZT17Y291bnRyeS5uYXRpdmVOYW1lfVxuICAgICAgICAgICAgdG9wTGV2ZWxEb21haW49e2NvdW50cnkudG9wTGV2ZWxEb21haW59XG4gICAgICAgICAgICBjdXJyZW5jaWVzPXtjb3VudHJ5LmN1cnJlbmNpZXN9XG4gICAgICAgICAgICBsYW5ndWFnZXM9e2NvdW50cnkubGFuZ3VhZ2VzfVxuICAgICAgICAgICAgc3ViUmVnaW9uPXtjb3VudHJ5LnN1YnJlZ2lvbn1cbiAgICAgICAgICAvPlxuICAgICAgICApKX1cbiAgICAgIDwvdWw+XG4gICAgKX1cbiAgPC9kaXY+XG4pO1xuXG5leHBvcnQgZGVmYXVsdCBDb3VudHJpZXM7XG4iLCIvL2ltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBBY3Rpb25zIGZyb20gXCIuL0FjdGlvbnNcIjtcbmltcG9ydCBDb3VudHJpZXMgZnJvbSBcIi4vQ291bnRyaWVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvdW50cmllc0FwcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuaGFuZGxlUmVnaW9uU2VsZWN0ID0gdGhpcy5oYW5kbGVSZWdpb25TZWxlY3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUlucHV0ID0gdGhpcy5oYW5kbGVJbnB1dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb3VudHJpZXM6IFtdLFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBsZXQgaW5pdENvdW50cmllcyA9IFtcInVzYVwiLCBcImdlcm1hbnlcIiwgXCJicmF6aWxcIiwgXCJpY2VsYW5kXCJdO1xuICAgIGluaXRDb3VudHJpZXMuZm9yRWFjaCgoY291bnRyeSkgPT4ge1xuICAgICAgbGV0IHVybCA9IG5ldyBVUkwoYGh0dHBzOi8vcmVzdGNvdW50cmllcy5ldS9yZXN0L3YyL25hbWUvJHtjb3VudHJ5fWApO1xuICAgICAgZmV0Y2godXJsKVxuICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAudGhlbigob2JqZGF0YSkgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcbiAgICAgICAgICAgIGNvdW50cmllczogcHJldlN0YXRlLmNvdW50cmllcy5jb25jYXQob2JqZGF0YSksXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVJlZ2lvblNlbGVjdChldnQpIHtcbiAgICBsZXQgcmVnaW9uID0gZXZ0LnRhcmdldC52YWx1ZTtcbiAgICBpZiAocmVnaW9uICE9PSBcIkZpbHRlciBieSBSZWdpb25cIikge1xuICAgICAgbGV0IHVybCA9IG5ldyBVUkwoYGh0dHBzOi8vcmVzdGNvdW50cmllcy5ldS9yZXN0L3YyL3JlZ2lvbi8ke3JlZ2lvbn1gKTtcbiAgICAgIGZldGNoKHVybClcbiAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgLnRoZW4oKGNvdW50cmllcykgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgY291bnRyaWVzOiBjb3VudHJpZXMgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlSW5wdXQoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgY29uc3QgaW5wdXQgPSBldnQudGFyZ2V0LnZhbHVlO1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChgaHR0cHM6Ly9yZXN0Y291bnRyaWVzLmV1L3Jlc3QvdjIvbmFtZS8ke2lucHV0fWApO1xuICAgICAgZmV0Y2godXJsKVxuICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAudGhlbigoY291bnRyeSkgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgY291bnRyaWVzOiBjb3VudHJ5IH07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChlcnIpID0+IGVycik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8bWFpbj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPEFjdGlvbnNcbiAgICAgICAgICAgICAgcmVnaW9uU2VsZWN0PXt0aGlzLmhhbmRsZVJlZ2lvblNlbGVjdH1cbiAgICAgICAgICAgICAgaGFuZGxlSW5wdXQ9e3RoaXMuaGFuZGxlSW5wdXR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPENvdW50cmllc1xuICAgICAgICAgICAgICBjb3VudHJpZXNMZW5ndGg9e3RoaXMuc3RhdGUuY291bnRyaWVzLmxlbmd0aH1cbiAgICAgICAgICAgICAgY291bnRyaWVzPXt0aGlzLnN0YXRlLmNvdW50cmllc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbWFpbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQsIHVzZVN0YXRlLCB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUaGVtZUNvbnRleHQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy90aGVtZUNvbnRleHRcIjtcblxuY29uc3QgSGVhZGVyID0gKCkgPT4ge1xuICBjb25zdCBbbGFiZWwsIHN3aXRjaExhYmVsXSA9IHVzZVN0YXRlKFwiTGlnaHQgTW9kZVwiKTtcbiAgY29uc3QgdGhlbWVPYmogPSB1c2VDb250ZXh0KFRoZW1lQ29udGV4dCk7XG5cbiAgZnVuY3Rpb24gdG9nZ2xlVGhlbWUoKSB7XG4gICAgc3dpdGNoTGFiZWwoKHByZXZTdGF0ZSkgPT4ge1xuICAgICAgaWYgKHByZXZTdGF0ZSA9PT0gXCJEYXJrIE1vZGVcIikge1xuICAgICAgICAvL3Byb3BzLmhhbmRsZVRvZ2dsZShcImRhcmtcIik7XG4gICAgICAgIHRoZW1lT2JqLnRvZ2dsZVRoZW1lQm9vbCgpO1xuICAgICAgICB0aGVtZU9iai50b2dnbGVUaGVtZShcImxpZ2h0XCIpO1xuICAgICAgICByZXR1cm4gXCJMaWdodCBNb2RlXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGVtZU9iai50b2dnbGVUaGVtZUJvb2woKTtcbiAgICAgICAgdGhlbWVPYmoudG9nZ2xlVGhlbWUoXCJkYXJrXCIpO1xuICAgICAgICAvL3Byb3BzLmhhbmRsZVRvZ2dsZShcImxpZ2h0XCIpO1xuICAgICAgICByZXR1cm4gXCJEYXJrIE1vZGVcIjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGhlYWRlciBjbGFzc05hbWU9XCJoZWFkZXJcIj5cbiAgICAgIDxoMT5XaGVyZSBpbiB0aGUgd29ybGQ/PC9oMT5cblxuICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJtb2RlXCIgb25DbGljaz17dG9nZ2xlVGhlbWV9PlxuICAgICAgICA8aVxuICAgICAgICAgIGNsYXNzTmFtZT17dGhlbWVPYmoudGhlbWVCb29sLmxpZ2h0VGhlbWUgPyBcImljb24tc3VuXCIgOiBcImljb24tbW9vbi1vXCJ9XG4gICAgICAgID48L2k+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1vZGUtbGFiZWxcIj57bGFiZWx9PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9oZWFkZXI+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXI7XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlSGlzdG9yeSwgdXNlTG9jYXRpb24gfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgTGluaywgdXNlUGFyYW1zIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tIFwiLi4vY29tcG9uZW50cy90aGVtZUNvbnRleHRcIjtcblxuY29uc3QgQ291bnRyeURldGFpbCA9ICgpID0+IHtcbiAgY29uc3QgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBjb25zb2xlLmxvZyh1c2VDb250ZXh0KTtcbiAgbGV0IFtib3JkZXJDb3VudHJpZXMsIHVwZGF0ZUJvcmRlcnNdID0gdXNlU3RhdGUoW10pO1xuICBsZXQgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBsZXQgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgbGV0IGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7XG4gIGxldCBjb3VudHJ5ID0gbG9jYXRpb24uc3RhdGU7XG4gIGxldCBwYXJhbXMgPSB1c2VQYXJhbXMoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcGFyYW1zKSByZXR1cm47XG4gICAgY29uc3QgYWJvcnRDb250ID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGlmIChoaXN0b3J5Lmxlbmd0aCA+IDMpIHtcbiAgICAgIHVwZGF0ZUJvcmRlcnMoW10pO1xuICAgIH1cblxuICAgIGNvdW50cnkuYm9yZGVycy5mb3JFYWNoKChjb3VudHJ5Q29kZSwgaW5kZXgsIGFycikgPT4ge1xuICAgICAgbGV0IHVybCA9IG5ldyBVUkwoXG4gICAgICAgIGBodHRwczovL3Jlc3Rjb3VudHJpZXMuZXUvcmVzdC92Mi9hbHBoYS8ke2NvdW50cnlDb2RlfWBcbiAgICAgICk7XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG5cbiAgICAgIGZldGNoKHVybCwgeyBzaWduYWw6IGFib3J0Q29udC5zaWduYWwgfSlcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcImNvdWxkIG5vdCBmZXRjaCB0aGUgZGF0YSBmb3IgdGhhdCByZXNvdXJjZVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgdXBkYXRlQm9yZGVycygocHJldkFycikgPT4gWy4uLnByZXZBcnIsIGRhdGFdKTtcbiAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgICBpZiAoaW5kZXggPT09IGFyci5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgaWYgKGFyci5sZW5ndGggPiA2KSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiBhYm9ydENvbnQuYWJvcnQoKTtcbiAgfSwgW3BhcmFtc10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJkZXRhaWwtcGFnZVwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJiYWNrLWJ0blwiXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgaGlzdG9yeS5nb0JhY2soKTtcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPGkgY2xhc3M9XCJpY29uLWFycm93LWxlZnRcIj48L2k+XG4gICAgICAgIEJhY2tcbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvdW50cnktZGV0YWlsLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGFnLWRldGFpbFwiPlxuICAgICAgICAgIDxpbWcgc3JjPXtjb3VudHJ5LmZsYWd9IGFsdD17YEZsYWcgb2YgJHtjb3VudHJ5Lm5hbWV9YH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY291bnRyeS1kZXRhaWxcIj5cbiAgICAgICAgICA8aDE+e2NvdW50cnkubmFtZX08L2gxPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGV0YWlsLWNvbHVtblwiPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvdW50cnktbGFiZWxcIj5OYXRpdmUgTmFtZTogPC9zcGFuPlxuICAgICAgICAgICAgICB7Y291bnRyeS5uYXRpdmVOYW1lfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvdW50cnktbGFiZWxcIj5Qb3B1bGF0aW9uOiA8L3NwYW4+XG4gICAgICAgICAgICAgIHtjb3VudHJ5LnBvcHVsYXRpb259XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY291bnRyeS1sYWJlbFwiPlJlZ2lvbjogPC9zcGFuPlxuICAgICAgICAgICAgICB7Y291bnRyeS5yZWdpb259XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY291bnRyeS1sYWJlbFwiPlN1YiBSZWdpb246IDwvc3Bhbj5cbiAgICAgICAgICAgICAge2NvdW50cnkuc3ViUmVnaW9ufVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvdW50cnktbGFiZWxcIj5DYXBpdGFsOiA8L3NwYW4+XG4gICAgICAgICAgICAgIHtjb3VudHJ5LmNhcGl0YWx9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXRhaWwtY29sdW1uXCI+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY291bnRyeS1sYWJlbFwiPlRvcCBMZXZlbCBEb21haW46IDwvc3Bhbj5cbiAgICAgICAgICAgICAge2NvdW50cnkudG9wTGV2ZWxEb21haW4ubWFwKChkb21haW4sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgPHNwYW4ga2V5PXtpbmRleH0+IHtkb21haW59IDwvc3Bhbj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY291bnRyeS1sYWJlbFwiPkN1cnJlbmNpZXM6IDwvc3Bhbj5cbiAgICAgICAgICAgICAge2NvdW50cnkuY3VycmVuY2llcy5tYXAoKGN1cnJlbmN5LCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgIDxzcGFuIGtleT17aW5kZXh9PiB7Y3VycmVuY3kubmFtZX0gPC9zcGFuPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjb3VudHJ5LWxhYmVsXCI+TGFuZ3VhZ2VzOiA8L3NwYW4+XG4gICAgICAgICAgICAgIHtjb3VudHJ5Lmxhbmd1YWdlcy5tYXAoKGxhbmd1YWdlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgIDxzcGFuIGtleT17aW5kZXh9PiB7bGFuZ3VhZ2UubmFtZX0gPC9zcGFuPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7Ym9yZGVyQ291bnRyaWVzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICApIDogaXNMb2FkaW5nID09PSB0cnVlID8gKFxuICAgICAgICAgICAgPHNwYW4+bG9hZGluZy4uLjwvc3Bhbj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItY291bnRyaWVzXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvdW50cnktbGFiZWxcIj5Cb3JkZXIgQ291bnRyaWVzOiA8L3NwYW4+XG4gICAgICAgICAgICAgIHtib3JkZXJDb3VudHJpZXMubWFwKChib3JkZXJDb3VudHJ5LCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgdG89e3tcbiAgICAgICAgICAgICAgICAgICAgcGF0aG5hbWU6IGAvY291bnRyeS8ke2JvcmRlckNvdW50cnkubmFtZVxuICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgICAgICAgICAgICAgICAgICAuam9pbihcIl9cIilcbiAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKX1gLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZTogeyAuLi5ib3JkZXJDb3VudHJ5IH0sXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGtleT17aW5kZXh9IGNsYXNzTmFtZT17XCJib3JkZXItY291bnRyeVwifT5cbiAgICAgICAgICAgICAgICAgICAge2JvcmRlckNvdW50cnkubmFtZX1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5leHBvcnQgZGVmYXVsdCBDb3VudHJ5RGV0YWlsO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQnJvd3NlclJvdXRlciwgUm91dGUsIFN3aXRjaCB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQgQ291bnRyaWVzQXBwIGZyb20gXCIuLi9jb21wb25lbnRzL0NvdW50cmllc0FwcFwiO1xuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi4vY29tcG9uZW50cy9IZWFkZXJcIjtcbmltcG9ydCBDb3VudHJ5RGV0YWlsIGZyb20gXCIuLi9jb21wb25lbnRzL0NvdW50cnlEZXRhaWxcIjtcbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tIFwiLi4vY29tcG9uZW50cy90aGVtZUNvbnRleHRcIjtcblxuY29uc3QgQXBwUm91dGVyID0gKCkgPT4gKFxuICA8QnJvd3NlclJvdXRlcj5cbiAgICA8ZGl2PlxuICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgIDxIZWFkZXIgLz5cbiAgICAgICAgPFN3aXRjaD5cbiAgICAgICAgICA8Um91dGUgcGF0aD1cIi9jb3VudHJ5Lzpjb3VudHJ5XCI+XG4gICAgICAgICAgICA8Q291bnRyeURldGFpbCAvPlxuICAgICAgICAgIDwvUm91dGU+XG4gICAgICAgICAgPFJvdXRlIHBhdGg9XCIvXCIgZXhhY3Q9e3RydWV9PlxuICAgICAgICAgICAgPENvdW50cmllc0FwcCAvPlxuICAgICAgICAgIDwvUm91dGU+XG4gICAgICAgIDwvU3dpdGNoPlxuICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgIDwvZGl2PlxuICA8L0Jyb3dzZXJSb3V0ZXI+XG4pO1xuXG5leHBvcnQgZGVmYXVsdCBBcHBSb3V0ZXI7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IEFwcFJvdXRlciBmcm9tIFwiLi9yb3V0ZXJzL0FwcFJvdXRlclwiO1xuXG5SZWFjdERPTS5yZW5kZXIoPEFwcFJvdXRlciAvPiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBcIikpO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuLy8gdGhlIHN0YXJ0dXAgZnVuY3Rpb25cbi8vIEl0J3MgZW1wdHkgYXMgc29tZSBydW50aW1lIG1vZHVsZSBoYW5kbGVzIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnggPSB4ID0+IHt9XG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiBtb2R1bGVbJ2RlZmF1bHQnXSA6XG5cdFx0KCkgPT4gbW9kdWxlO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDM3NjogMFxufTtcblxudmFyIGRlZmVycmVkTW9kdWxlcyA9IFtcblx0WzY4LDE2NSw3NjQsNjU5LDQyNCw3OTFdXG5dO1xuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxudmFyIGNoZWNrRGVmZXJyZWRNb2R1bGVzID0geCA9PiB7fTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWUsIGV4ZWN1dGVNb2R1bGVzXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG5cdFx0fVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG5cdH1cblx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0fVxuXHR9XG5cdGlmKHJ1bnRpbWUpIHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG5cdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuXHR9XG5cblx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuXHRpZihleGVjdXRlTW9kdWxlcykgZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyk7XG5cblx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG5cdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua3Byb2plY3RcIl0gPSBzZWxmW1wid2VicGFja0NodW5rcHJvamVjdFwiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7XG5cbmZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzSW1wbCgpIHtcblx0dmFyIHJlc3VsdDtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcblx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0fVxuXHRcdGlmKGZ1bGZpbGxlZCkge1xuXHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuXHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG5cdFx0fVxuXHR9XG5cdGlmKGRlZmVycmVkTW9kdWxlcy5sZW5ndGggPT09IDApIHtcblx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLngoKTtcblx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnggPSB4ID0+IHt9O1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG52YXIgc3RhcnR1cCA9IF9fd2VicGFja19yZXF1aXJlX18ueDtcbl9fd2VicGFja19yZXF1aXJlX18ueCA9ICgpID0+IHtcblx0Ly8gcmVzZXQgc3RhcnR1cCBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgY2FsbGVkIGFnYWluIHdoZW4gbW9yZSBzdGFydHVwIGNvZGUgaXMgYWRkZWRcblx0X193ZWJwYWNrX3JlcXVpcmVfXy54ID0gc3RhcnR1cCB8fCAoeCA9PiB7fSk7XG5cdHJldHVybiAoY2hlY2tEZWZlcnJlZE1vZHVsZXMgPSBjaGVja0RlZmVycmVkTW9kdWxlc0ltcGwpKCk7XG59OyIsIi8vIHJ1biBzdGFydHVwXG5yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy54KCk7XG4iXSwic291cmNlUm9vdCI6IiJ9